{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
"vconcat":[{
    "width": 800,
    "height": 300,
    "data": {"url": "https://raw.githubusercontent.com/Alina0029/hw10/main/test_stackedbarchart.csv" },
      "transform":[
      {"filter": {"param": "brush"}}],

        "mark": { "type": "bar" },
        "encoding": {
            "x": {"aggregate":"sum","field": "test_number", "type": "quantitative" },
            "y": { "field": "continent","sort":{"field":"test_number","order":"descending"}},
            "color": { "field": "situation" }
        }
    },{    "width": 800,
    "height": 50,
    "data": { "url": "https://raw.githubusercontent.com/Alina0029/hw10/main/covid_test.csv" },

    "transform":[{"filter":"datum.new_tests >0"}],
    "mark": { "type": "line" },
        "params":[{
        "name": "brush",
        "select": {"type":"interval","encodings": ["x"]}}],
    "encoding": {
        "x": {"timeUnit": "yearmonth", "field": "date","type":"temporal"},
        "y": { "aggregate": "sum", "field": "new_tests" }
    }}]}