{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": { "url": "https://raw.githubusercontent.com/Alina0029/hw10/main/covid_clean.csv" },
    "background": "azure",
"vconcat":[{
    "width": 700,
    "height": 100,
    "mark": "rect",
    "transform": [{"filter": {"param": "brush"}}],
    "encoding": {
      "y": {"field": "continent","type": "nominal","title":"Continent"},
    "x": {
        "field": "date",
        "timeUnit": "day",
        "type": "ordinal",
        "title": "Week"
    },
    "color": {"aggregate":"sum",
        "field": "new_deaths",
        "type": "quantitative",
        "scale": {"scheme": "orangered"},
        "legend": {
            "title": "Total deaths"
        }
    },
    "opacity": {
                "condition": {"param": "continent_highl", "value": 1},
                "value": 0.2
              },
    "tooltip": [{"field": "continent", "type": "nominal","title":"Continent"},
        {"aggregate": "sum", "field": "new_deaths", "type": "quantitative", "title":"Total death"}
      ]
}

  },{
    "width": 700,
    "height": 350,
    "mark": { "type": "area" },
    "params":[{
        "name": "brush",
        "select": {"type":"interval","encodings": ["x"]}},
        {
          "name": "continent_highl",
          "select": { "type": "point", "fields": ["continent"] },
          "bind": "legend"
        }
        ],
    "encoding": {
        "x": { "timeUnit": "yearmonth", "field": "date", "type": "temporal" ,"title":"Date"},
        "y": { "aggregate": "sum", "field": "new_deaths","title":"Number of deaths" },
        "color": { "field": "continent" ,
                    "type": "nominal",
                    "scale": {
                        "domain": [
                            "North America",
                            "South America",
                            "Europe",
                            "Africa",
                            "Asia",
                            "Oceania"
                          ],
                          "range": [
                            "#fb8072",
                            "#fdb462",
                            "#bebada",
                            "#b3b3b3",
                            "#80b1d3",
                            "#9e765f"
                          ]
        }
    },
            "opacity": {
                "condition": {"param": "continent_highl", "value": 1},
                "value": 0.2
              },
    "tooltip": [
        {"field": "continent", "type": "nominal","title":"Continent"},
        {"timeUnit": "yearmonth","field": "date", "type": "temporal","title":"Date"},
        {"aggregate": "sum", "field": "new_deaths", "type": "quantitative", "title":"Daily death"}
      ]
    }
    
}],      "config": {
    "view": {"stroke": null},
    "axis": {"grid": false}
  }}
