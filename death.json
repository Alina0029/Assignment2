{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": { "url": "https://raw.githubusercontent.com/Alina0029/hw10/main/covid_clean.csv" },
"vconcat":[{
    "width": 600,
    "mark": "rect",
    "transform": [{"filter": {"param": "brush"}}],
    "encoding": {
      "y": {"field": "continent","type": "nominal","title":"Day"},
    "x": {
        "field": "date",
        "timeUnit": "day",
        "type": "ordinal",
        "title": "Week"
    },
    "color": {
        "field": "new_deaths",
        "type": "quantitative",
        "legend": {
            "title": "Daily deaths"
        }
    },
    "opacity": {
                "condition": {"param": "continent_highl", "value": 1},
                "value": 0.2
              }
}
  },{
    "width": 600,
    "height": 600,
    "mark": { "type": "area" },
    "params":[{
        "name": "brush",
        "select": {"type":"interval","encodings": ["x"]}},
        {
          "name": "continent_highl",
          "select": { "type": "point", "fields": ["continent"] },
          "bind": "legend"
        }
        ],
    "encoding": {
        "x": { "timeUnit": "yearmonth", "field": "date", "type": "temporal" },
        "y": { "aggregate": "sum", "field": "new_deaths" },
        "color": { "field": "continent" ,
                    "type": "nominal",
                    "scale": {
                    "domain": [
                        "North America",
                        "South America",
                        "Europe",
                        "Africa",
                        "Asia",
                        "Oceania"
                                    ],
                    "range": [
                        "#e41a1c",
                        "#984ea3",
                        "#ff7f00",
                        "#a6cee3",
                        "#377eb8",
                        "#a65628"
                    ]
        }
    },
            "opacity": {
                "condition": {"param": "continent_highl", "value": 1},
                "value": 0.2
              },
    "tooltip": [
        {"field": "continent", "type": "nominal"}
      ]
    }
    
}]}